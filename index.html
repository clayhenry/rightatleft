<!<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">


</head>

<body style="overflow-x: hidden">

    <style>
        div {
            display: flex;
            align-items: center;
            justify-content: center;
            transition: width 0.5s, height 0.5s;
        }

        #container {

            width:100%; 
            height:100%;
            position: fixed;

       
        }

        .contents {
            position: fixed
        }

    </style>

    <div id="container">
    
        <div id="default" class="sizemeup" style="background: white; width:0px; height: 0px; ">
            <div class="contents"></div>
        <div id="one" class="sizemeup" style="background: aqua; width:0px; height: 0px; ">
            <div class="contents"></div>
            <div id="two" class="sizemeup" style="background: red; width:0px; height: 0px; ">
                <div class="contents"></div>
                <div id="three" class="sizemeup" style="background: yellow; width:0px; height: 0px;">
                    <div class="contents"></div>
                </div>
            </div>
            </div>


        </div>

    </div>
    <div style="height:8000px">
        <br><br><br>
    </div>

    <script>
        let sizeupelems = document.querySelectorAll(".sizemeup");
        let container  = document.getElementById("container");
        let currentContentsValues = document.querySelectorAll(".contents")

        let instanceCounts = 0
        let currentOffset = window.pageYOffset;
        let = scrollDirection = "";

        sizeup = () => {
            
            let h = sizeupelems[instanceCounts].clientHeight
            let w = sizeupelems[instanceCounts].clientWidth
            

            for (let i = 0; i < currentContentsValues.length; i++) {

                currentContentsValues[i].innerHTML = "";
            }
                  
            sizeupelems[instanceCounts].querySelector(".contents").innerHTML = "Hello " + instanceCounts
            

            if(scrollDirection == "down"){ 
                sizeupelems[instanceCounts].style.height = (window.innerHeight) + "px";
                sizeupelems[instanceCounts].style.width = (window.innerWidth) + "px";
                // sizeupelems[1].style.clipPath = "circle(40% at center)"
         
                
            }  
            
            if(scrollDirection == "up"){ 

                let downIndex = instanceCounts + 1;
                    if(typeof(sizeupelems[downIndex]) != "undefined"){
                        sizeupelems[downIndex].style.height =  "0px";
                        sizeupelems[downIndex].style.width =  "0px";
                        // sizeupelems[1].style.clipPath = "circle(40% at center)"
                        
                }
            }
        } 
        
        sizeup();


        document.addEventListener("scroll", (e) =>{

            
            let scroll = window.pageYOffset;

                if(scroll <= 0 ){
                    evcount = 0;
                    instanceCounts = 0;
                }
                if(scroll > currentOffset){
                  
                    scrollDirection = "down";
                } else {
               
                    scrollDirection = "up";
                }
                
    
            if (instanceCounts <= sizeupelems.length && window.pageYOffset < 4000) {

        
                currentOffset = window.pageYOffset;
                container.style.position = "fixed"
                container.style.top = 0;

                if(currentOffset >= 0 &&   currentOffset <= 999 ){
                        instanceCounts= 0;
                    }

                if(currentOffset >= 1000 &&   currentOffset <= 1999 ){
                    instanceCounts= 1;
                }

                if(currentOffset >= 2000 && currentOffset <= 2999  ){
                    instanceCounts = 2;
                }

               if(currentOffset >= 3000){
                    instanceCounts = 3;
                    container.style.position = "absolute"
                    container.style.top = window.pageYOffset + "px";
                    currentContentsValues[3].style.position = "absolute"
                }
          
                sizeup()
            }

        

        })

    </script>

</body>

</html>